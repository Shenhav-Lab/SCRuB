---
title: 'SCRuB: Source-tracking for Contamination Removal <br> &emsp;&emsp;&emsp;&emsp; in *micro*Biomes'
output: 
    html_document:
       theme: darkly
---
<style>
    body { 
        background-color: #162138;
            text-color: whitesmoke}
</style>
<img src='Images/SCRuB_logo.png' align="right" height="300" />

</center>

--------------------------

**<span style="color:lightblue">We are currently in beta testing! Please report any issues you faced while using SCRuB in our [Issues Page](https://github.com/korem-lab/SCRuB/issues), or email [gia2105@columbia.edu](gia2105@columbia.edu) .</span>**

--------------------------

Welcome to [SCRuB](index.html)! This is a software package for in silico **<span style="color:lightblue">removal of contamination** from microbial datasets using process controls.
  <br>

In addition to the statistical framework of SCRuB, we provide [preSCRuB](prescrub_intro.html), a personalized interface which offers recommendations for **<span style="color:lightblue">placement of controls** during experimental design processes. Effective use of preSCRuB will allow for even stronger decontamination using SCRuB in future analyses.  

## Installation

SCRuB is currently available through our [github repository](https://github.com/korem-lab/SCRuB/]), and can be installed using `devtools`:
```{r, eval=FALSE}
devtools::install_github("korem-lab/SCRuB")
install_torch()
```

Additionally, we provide SCRuB as a QIIME2 plugin, which can be installed from a Qiime2 environment using pip:
```bash
pip install git+https://github.com/korem-lab/q2-SCRuB.git
```

&nbsp;


## Getting started

To start using SCRuB, follow along one of the following links, according to your preferences: <br>
<center>
 <b> <font size="5"> [R tutorial](tutorial.html)</font> </b> <br>
  <b> <font size="5"> [Qiime2 tutorial](qiime2_intro.html)</font> </b>
<br>
</center>
These tutorials demonstrates the data format needed to set up SCRuB, how to run SCRuB's core funtions, and how to interpret its results.</span>

&nbsp;

<!-- To start using SCRuB, we recommend to follow along with either our [R tutorial](tutorial.html) or our [Qiime2 tutorial](qiime2_intro.html), depending -->
## FAQs
<!-- *Why SCRuB?* -->

<!-- `SCRuB` offers the advantage of combing source-tracking approaches with contamination source modelling, while tracking for possible sources of well-to-well leakage. Thus, it provides an effective and low-risk approach to microbial decontamination, which has been shown to improve phenotype prediction in downtream applications. -->


*<span style="color:lightblue">Why SCRuB?* <br>
Instead of trying to identify whether a taxa is categorically a contaminant, SCRuB models the composition of each contamination source (kit contamination, water contamination, etc.). We assume that taxa present together in a contamination source will be introduced together to other samples, and in similar proportions as in the contamination source. Therefore, if a control sample contains multiple bacteria, and a sample of interest contains only one of them and at high counts, that one bacteria is likely not a contaminant. This allows a more accurate and specific decontamination.

*<span style="color:lightblue">Should I use SCRuB only if I believe that there is substantial contamination?* <br>
Our results demonstrate that SCRuB will not erroneously remove taxa if provided with unrelated controls. We therefore support incorporating SCRuB into your day-to-day analysis pipeline.

*<span style="color:lightblue">What does SCRuB do with the locations of the samples on the wells?*<br>
SCRuB uses these location to handle the important and common phenomenon of well-to-well leakage, in which material from biological samples leaks into controls during experimental procedures. Using the locations of samples during processing allows us to detect these cases.

*<span style="color:lightblue">What do I do if I have more than one type of control?*<br>
SCRuB supports multiple types of controls, and performs serial decontamination - each time performing decontamination using a different type of control. You can specify the order of decontamination yourself; we recommend to perform decontamination in the order in which contaminants are introduced.

*<span style="color:lightblue">We sequenced samples from two different studies on the same batch / plate / sequencing run. Should I run SCRuB just on the data from my study?*<br>
One of the key advantages of SCRuB is that it uses the shared information across all samples affected by a certain contamination source (e.g., an extraction batch). We therefore recommend that you supply SCRuB with *all* the relevant samples, including ones that are not related to a particular study - SCRuB uses the information in those samples to perform better decontamination.

*<span style="color:lightblue">Is there any benefit in providing SCRuB with more than one control sample?*<br>
Yes! SCRuB uses each control sample as an independent realization of the contamination source it represents. More samples allow us to infer the latent composition of these source more accurately. We recommend at least 2 controls per source, and you can use <preSCRuB> to get recommendations that are tailored to your experiment - often, even more than 2 controls would be appropriate.

&nbsp;

 <!-- badges: start -->
  [![R-CMD-check](https://github.com/korem-lab/SCRuB/actions/workflows/check-standard.yaml/badge.svg)](https://github.com/korem-lab/SCRuB/actions/workflows/check-standard.yaml)
  [![Codecov test
coverage](https://codecov.io/gh/korem-lab/SCRuB/graph/badge.svg)](https://app.codecov.io/gh/korem-lab/SCRuB)
  <!-- badges: end -->
  
  